port: 7890
socks-port: 7891
redir-port: 7892
mixed-port: 7893
allow-lan: true
mode: rule
log-level: info
ipv6: false
keep-alive-interval: 75
keep-alive-idle: 300
find-process-mode: off
unified-delay: true
tcp-concurrent: true
external-controller: '127.0.0.1:9090'
global-client-fingerprint: chrome
geodata-mode: false
profile:
  store-selected: true
  store-fake-ip: true
dns:
  enable: true
  cache-algorithm: arc
  ipv6: false
  prefer-h3: true
  respect-rules: true
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter:
    - "dns.alidns.com"
    - "doh.pub"
    - "dns.google"
    - "cloudflare-dns.com"
    - "rule-set:fakeipfilter"
    - "rule-set:private"
  default-nameserver:
    - 223.5.5.5
    - 119.29.29.29
  nameserver-policy:
    "geosite:cn":
    - https://doh.pub/dns-query
    - https://dns.alidns.com/dns-query
    - 223.5.5.5
    "rule-set:directdm":
    - https://doh.pub/dns-query
    - https://dns.alidns.com/dns-query
    - 223.5.5.5
  proxy-server-nameserver:
    - 223.5.5.5
    - 119.29.29.29
  direct-nameserver-follow-policy: true
  direct-nameserver:
    - 223.5.5.5
    - 119.29.29.29
  nameserver:
    - https://cloudflare-dns.com/dns-query#h3=true
    - https://8.8.8.8/dns-query
    - 8.8.8.8
    - 223.5.5.5
sniffer:
  enable: true
  force-dns-mapping: true
  parse-pure-ip: true
  override-destination: false
  sniff:
    HTTP:
      ports: [80, 8080-8880]
      override-destination: true
    TLS:
      ports: [443, 8443]
    QUIC:
      ports: [443, 8443]
  skip-domain:
    - "Mijia Cloud"
    - "+.push.apple.com"
    - "+.icloud.com"
    - "+.apple.com"
    - "+.google.com"
    - "+.gstatic.com"
    - "+.googleapis.com"
    - "+.youtube.com"
    - "+.microsoft.com"
    - "+.office.com"
    - "+.office365.com"
    - "+.live.com"
    - "+.sharepoint.com"
    - "+.steampowered.com"
    - "+.steamcontent.com"
    - "+.steamserver.net"
    - "+.epicgames.com"
    - "+.battle.net"
    - "+.cmbchina.com"
    - "+.icbc.com.cn"
    - "+.ccb.com"
    - "+.abchina.com"
    - "+.bankcomm.com"
  skip-dst-address:
    - "geosite:telegram"
# è¿™é‡Œæ’å…¥èŠ‚ç‚¹ä¿¡æ¯
proxy-groups:
  - name: ğŸŒé»˜è®¤ä»£ç†
    type: select
    proxies:
      - ğŸ‡­ğŸ‡°é¦™æ¸¯
      - ğŸ‡¯ğŸ‡µæ—¥æœ¬
      - ğŸ‡¹ğŸ‡¼å°æ¹¾
      - ğŸ‡¸ğŸ‡¬æ–°åŠ å¡
      - ğŸ‡°ğŸ‡·éŸ©å›½
      - ğŸ‡ºğŸ‡¸ç¾å›½
      - ğŸŒå…¶ä»–
      - DIRECT
  - name: ğŸ‡­ğŸ‡°é¦™æ¸¯
    type: select
    include-all-proxies: true
    filter: "(?i)æ¸¯|hk|hongkong|hong kong|ğŸ‡­ğŸ‡°"
    interval: 300
    url: "https://www.gstatic.com/generate_204"
    lazy: true
    timeout: 5000
    max-failed-times: 5
  - name: ğŸ‡¯ğŸ‡µæ—¥æœ¬
    type: select
    include-all-proxies: true
    filter: "(?i)æ—¥æœ¬|jp|japan|ä¸œäº¬|ty|ğŸ‡¯ğŸ‡µ"
    interval: 300
    url: "https://www.gstatic.com/generate_204"
    lazy: true
    timeout: 5000
    max-failed-times: 5
  - name: ğŸ‡¹ğŸ‡¼å°æ¹¾
    type: select
    include-all-proxies: true
    filter: "(?i)å°|tw|taiwan|tp|ğŸ‡¹ğŸ‡¼"
    interval: 300
    url: "https://www.gstatic.com/generate_204"
    lazy: true
    timeout: 5000
    max-failed-times: 5
  - name: ğŸ‡¸ğŸ‡¬æ–°åŠ å¡
    type: select
    include-all-proxies: true
    filter: "(?i)åŠ å¡|sg|singapore|sin|ğŸ‡¸ğŸ‡¬"
    interval: 300
    url: "https://www.gstatic.com/generate_204"
    lazy: true
    timeout: 5000
    max-failed-times: 5
  - name: ğŸ‡°ğŸ‡·éŸ©å›½
    type: select
    include-all-proxies: true
    filter: "(?i)éŸ©|kr|korea|é¦–å°”|seoul|ğŸ‡°ğŸ‡·"
    interval: 300
    url: "https://www.gstatic.com/generate_204"
    lazy: true
    timeout: 5000
    max-failed-times: 5
  - name: ğŸ‡ºğŸ‡¸ç¾å›½
    type: select
    include-all-proxies: true
    filter: "(?i)ç¾|us|unitedstates|united states|americ|æ´›æ‰|la|çº½çº¦|ny|ğŸ‡ºğŸ‡¸"
    interval: 300
    url: "https://www.gstatic.com/generate_204"
    lazy: true
    timeout: 5000
    max-failed-times: 5
  - name: ğŸŒå…¶ä»–
    type: select
    include-all-proxies: true
    exclude-filter: "(?i)æ¸¯|hk|hongkong|hong kong|ğŸ‡­ğŸ‡°|æ—¥æœ¬|jp|japan|ä¸œäº¬|ty|ğŸ‡¯ğŸ‡µ|å°|tw|taiwan|tp|ğŸ‡¹ğŸ‡¼|åŠ å¡|sg|singapore|sin|ğŸ‡¸ğŸ‡¬|éŸ©|kr|korea|é¦–å°”|seoul|ğŸ‡°ğŸ‡·|ç¾|us|unitedstates|united states|americ|æ´›æ‰|la|çº½çº¦|ny|ğŸ‡ºğŸ‡¸|è®¢é˜…|å‰©ä½™|é‡ç½®|åˆ°æœŸ|åŠ å…¥|æœºåœº|å®˜ç½‘|åœ°å€|è¿‡æœŸ|xpire|raffic|websi|use|tota"
    interval: 300
    url: "https://www.gstatic.com/generate_204"
    lazy: true
    timeout: 5000
    max-failed-times: 5
  - name: ğŸš©ä¿¡æ¯
    type: select
    include-all-proxies: true
    filter: "(?i)è®¢é˜…|å‰©ä½™|é‡ç½®|åˆ°æœŸ|åŠ å…¥|æœºåœº|å®˜ç½‘|åœ°å€|è¿‡æœŸ|xpire|raffic|websi|use|tota"
    lazy: true
  - name: âš“ç¨³å®šIP
    type: select
    proxies: ['ğŸ‡­ğŸ‡°é¦™æ¸¯', 'ğŸ‡¯ğŸ‡µæ—¥æœ¬', 'ğŸ‡¹ğŸ‡¼å°æ¹¾', 'ğŸ‡¸ğŸ‡¬æ–°åŠ å¡', 'ğŸŒå…¶ä»–']
    include-all-proxies: true
    filter: "(?i)æ¸¯|hk|hongkong|hong kong|ğŸ‡­ğŸ‡°|æ—¥æœ¬|jp|japan|ä¸œäº¬|ty|ğŸ‡¯ğŸ‡µ|å°|tw|taiwan|tp|ğŸ‡¹ğŸ‡¼|åŠ å¡|sg|singapore|sin|ğŸ‡¸ğŸ‡¬"
  - name: ğŸ®æ¸¸æˆçº¿è·¯
    type: select
    proxies: ['ğŸ‡¹ğŸ‡¼å°æ¹¾', 'ğŸ‡­ğŸ‡°é¦™æ¸¯', 'ğŸ‡¯ğŸ‡µæ—¥æœ¬', 'ğŸ‡°ğŸ‡·éŸ©å›½', 'ğŸŒå…¶ä»–', DIRECT]
    include-all-proxies: true
    filter: "(?i)æ¸¯|hk|hongkong|hong kong|ğŸ‡­ğŸ‡°|æ—¥æœ¬|jp|japan|ä¸œäº¬|ty|ğŸ‡¯ğŸ‡µ|å°|tw|taiwan|tp|ğŸ‡¹ğŸ‡¼|éŸ©|kr|korea|é¦–å°”|seoul|ğŸ‡°ğŸ‡·|æ¸¸æˆ|game"
  - name: ğŸ¬å½±è§†çº¿è·¯
    type: select
    include-all-proxies: true
    filter: "æ¸¯|hk|hongkong|hong kong|ğŸ‡­ğŸ‡°|æ—¥æœ¬|jp|japan|ä¸œäº¬|ty|ğŸ‡¯ğŸ‡µ|å°|tw|taiwan|tp|ğŸ‡¹ğŸ‡¼|åŠ å¡|sg|singapore|sin|ğŸ‡¸ğŸ‡¬|éŸ©|kr|korea|é¦–å°”|seoul|ğŸ‡°ğŸ‡·"
  - name: âœ¨Aiçº¿è·¯
    type: select
    proxies: ['ğŸ‡¯ğŸ‡µæ—¥æœ¬', 'ğŸ‡¹ğŸ‡¼å°æ¹¾', 'ğŸ‡¸ğŸ‡¬æ–°åŠ å¡', 'ğŸ‡ºğŸ‡¸ç¾å›½', 'ğŸŒå…¶ä»–']
    include-all-proxies: true
    filter: "(?i)æ—¥æœ¬|jp|japan|ä¸œäº¬|ty|ğŸ‡¯ğŸ‡µ|åŠ å¡|sg|singapore|sin|ğŸ‡¸ğŸ‡¬|ç¾|us|unitedstates|united states|americ|æ´›æ‰|la|çº½çº¦|ny|ğŸ‡ºğŸ‡¸"
  - name: MS+Bing
    type: select
    proxies: ['âš“ç¨³å®šIP', 'ğŸ‡­ğŸ‡°é¦™æ¸¯', 'ğŸ‡¯ğŸ‡µæ—¥æœ¬', 'ğŸ‡¹ğŸ‡¼å°æ¹¾', 'ğŸ‡¸ğŸ‡¬æ–°åŠ å¡', 'ğŸ‡ºğŸ‡¸ç¾å›½', 'ğŸŒé»˜è®¤ä»£ç†', 'ğŸŒå…¶ä»–']
  - name: OneDrive
    type: select
    proxies: [DIRECT, 'MS+Bing', 'ğŸŒé»˜è®¤ä»£ç†']
  - name: Google
    type: select
    proxies: ['ğŸ‡¯ğŸ‡µæ—¥æœ¬', 'ğŸ‡­ğŸ‡°é¦™æ¸¯', 'ğŸ‡¸ğŸ‡¬æ–°åŠ å¡', 'ğŸ‡ºğŸ‡¸ç¾å›½', 'ğŸ‡¹ğŸ‡¼å°æ¹¾', 'ğŸ‡°ğŸ‡·éŸ©å›½', 'ğŸŒå…¶ä»–']
  - name: Apple
    type: select
    proxies: [DIRECT, 'ğŸ‡¯ğŸ‡µæ—¥æœ¬', 'ğŸ‡­ğŸ‡°é¦™æ¸¯', 'ğŸ‡¸ğŸ‡¬æ–°åŠ å¡', 'ğŸ‡ºğŸ‡¸ç¾å›½', 'ğŸ‡¹ğŸ‡¼å°æ¹¾', 'ğŸ‡°ğŸ‡·éŸ©å›½', 'ğŸŒå…¶ä»–', 'ğŸŒé»˜è®¤ä»£ç†']
  - name: å¤–å›½åª’ä½“
    type: select
    proxies: ['âš“ç¨³å®šIP', 'ğŸŒé»˜è®¤ä»£ç†']
  - name: æ¸¸æˆä¸‹è½½
    type: select
    proxies: [DIRECT, 'ğŸŒé»˜è®¤ä»£ç†', 'ğŸ®æ¸¸æˆçº¿è·¯', 'ğŸŒå…¶ä»–']
  - name: æ¸¸æˆå¹³å°
    type: select
    proxies: ['ğŸ®æ¸¸æˆçº¿è·¯', DIRECT, 'ğŸŒå…¶ä»–']
  - name: ğŸ”æœªå‘½ä¸­
    type: select
    proxies: ['ğŸŒé»˜è®¤ä»£ç†', DIRECT]
  - name: ğŸ›‘å¹¿å‘Šæ‹¦æˆª
    type: select
    proxies: [REJECT, DIRECT]
rule-providers:
  fakeipfilter:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/JesterW365/Clash_Rulesets_Template@master/SRC_rulesets/Forked_rulesets/Converted_rulesets/fakeipfilter.yaml"
    path: ./ruleset/fakeipfilter.yaml
    interval: 86400
  private:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/JesterW365/Clash_Rulesets_Template@master/SRC_rulesets/Forked_rulesets/Converted_rulesets/private.yaml"
    path: ./ruleset/private.yaml
    interval: 86400
  predirect:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/JesterW365/Clash_Rulesets_Template@master/Generated_rulesets/predirect.yaml"
    path: ./ruleset/predirect.yaml
    interval: 86400
  adrules:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/JesterW365/Clash_Rulesets_Template@master/Generated_rulesets/adrules.yaml"
    path: ./ruleset/adrules.yaml
    interval: 86400
  msbing:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/JesterW365/Clash_Rulesets_Template@master/Generated_rulesets/msbing.yaml"
    path: ./ruleset/msbing.yaml
    interval: 86400
  googleyoutube:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/JesterW365/Clash_Rulesets_Template@master/Generated_rulesets/googleyt.yaml"
    path: ./ruleset/googleyt.yaml
    interval: 86400
  apple:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/JesterW365/Clash_Rulesets_Template@master/Generated_rulesets/appleicloud.yaml"
    path: ./ruleset/appleicloud.yaml
    interval: 86400
  aiservice:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/JesterW365/Clash_Rulesets_Template@master/Generated_rulesets/aiservice.yaml"
    path: ./ruleset/aiservice.yaml
    interval: 86400
  aiservicecn:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/JesterW365/Clash_Rulesets_Template@master/Generated_rulesets/aiservicecn.yaml"
    path: ./ruleset/aiservicecn.yaml
    interval: 86400
  gamedownload:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/JesterW365/Clash_Rulesets_Template@master/Generated_rulesets/gamedownload.yaml"
    path: ./ruleset/gamedownload.yaml
    interval: 86400
  gameplay:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/JesterW365/Clash_Rulesets_Template@master/Generated_rulesets/gameplay.yaml"
    path: ./ruleset/gameplay.yaml
    interval: 86400
  gameplatform:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/JesterW365/Clash_Rulesets_Template@master/Generated_rulesets/gameplatform.yaml"
    path: ./ruleset/gameplatform.yaml
    interval: 86400
  fixedmedias:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/JesterW365/Clash_Rulesets_Template@master/Generated_rulesets/fixedmedias.yaml"
    path: ./ruleset/fixedmedias.yaml
    interval: 86400
  onedrive:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/JesterW365/Clash_Rulesets_Template@master/Generated_rulesets/onedrive.yaml"
    path: ./ruleset/onedrive.yaml
    interval: 86400
  directdm:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/JesterW365/Clash_Rulesets_Template@master/SRC_rulesets/Forked_rulesets/Converted_rulesets/cn.yaml"
    path: ./ruleset/cndm.yaml
    interval: 86400
  directip:
    type: http
    behavior: ipcidr
    url: "https://cdn.jsdelivr.net/gh/JesterW365/Clash_Rulesets_Template@master/SRC_rulesets/Forked_rulesets/Converted_rulesets/cnip.yaml"
    path: ./ruleset/cnip.yaml
    interval: 86400
  proxy:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/JesterW365/Clash_Rulesets_Template@master/SRC_rulesets/Forked_rulesets/Converted_rulesets/proxy.yaml"
    path: ./ruleset/proxy.yaml
    interval: 86400
rules:
  - DOMAIN-SUFFIX,netloading.net,DIRECT
  - DOMAIN-SUFFIX,yunti.online,ğŸ¬å½±è§†çº¿è·¯
  - DOMAIN-SUFFIX,mjji.de,ğŸ¬å½±è§†çº¿è·¯
  - RULE-SET,fakeipfilter,DIRECT
  - RULE-SET,private,DIRECT
  - GEOIP,LAN,DIRECT,no-resolve
  - RULE-SET,predirect,DIRECT
  - RULE-SET,adrules,ğŸ›‘å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,gameplay,ğŸ®æ¸¸æˆçº¿è·¯
  - RULE-SET,msbing,MS+Bing
  - RULE-SET,onedrive,OneDrive
  - RULE-SET,googleyoutube,Google
  - RULE-SET,apple,Apple
  - RULE-SET,aiservice,âœ¨Aiçº¿è·¯
  - RULE-SET,aiservicecn,DIRECT
  - RULE-SET,fixedmedias,å¤–å›½åª’ä½“
  - RULE-SET,gamedownload,æ¸¸æˆä¸‹è½½
  - RULE-SET,gameplatform,æ¸¸æˆå¹³å°
  - RULE-SET,proxy,ğŸŒé»˜è®¤ä»£ç†
  - RULE-SET,directdm,DIRECT
  - RULE-SET,directip,DIRECT
  - DOMAIN-SUFFIX,cn,DIRECT
  - GEOSITE,cn,DIRECT
  - GEOIP,CN,DIRECT,no-resolve
  - MATCH,ğŸ”æœªå‘½ä¸­
